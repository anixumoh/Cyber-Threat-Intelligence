<span [hidden]="loading"></span>
<!-- LOADING PROCESS -->
<div *ngIf="loading" class="no-results-box">
  <i class="icon-spinner rotate"></i>
  <h3 class="no-results">Loading</h3>
</div>
<!-- NO RESULTS -->
<ng-template #tmpl1>
  <div class="padding-20">
    <div class="no-results-box">
      <img src="assets/default_images/searching.svg" />
      <h3 class="no-results">There is no information for Process Tree in this sample</h3>
    </div>
  </div>
</ng-template>
<!-- NO RESULTS -->
<ng-template #tmpl2>
  <div class="padding-20">
    <div class="no-results-box">
      <img src="assets/default_images/searching.svg" />
      <h3 class="no-results">There are no Dropped Files</h3>
    </div>
  </div>
</ng-template>
<!-- CONTENT -->
<ng-container *ngIf="!loading">
  <!-- PROCESSED CREATED -->
  <div class="title-middleline">
    <h3>Processes created</h3>
  </div>
  <div *ngIf="firstLevel && firstLevel.length; else tmpl1" class="margin-bottom-40">
    <app-process-tree [listProcess]="firstLevel" (onCall)="openProcess($event)"> </app-process-tree>
  </div>
  <!-- DROPPED FILES -->
  <div class="title-middleline margin-bottom-20">
    <h3>Dropped files</h3>
  </div>
  <div *ngIf="dropped && dropped.length; else tmpl2" class="padding-bottom-20 margin-bottom-20">
    <div class="dfiles">
      <div class="dfiles-description">
        <p class="filename" [ngClass]="item.kind" (click)="openContent(item)" *ngFor="let item of dropped">
          <span
            class="fa"
            [ngClass]="{
              'icon-bolt': item.kind === 'malicious',
              'icon-exclamation': item.kind === 'suspicious'
            }"
          ></span>
          <span>{{ item.name }}</span>
        </p>
        <div *ngIf="showMoreOpened">
          <p class="filename" [ngClass]="item.kind" (click)="openContent(item)" *ngFor="let item of extraDropped">
            <span
              class="fa"
              [ngClass]="{
                'icon-bolt': item.kind === 'malicious',
                'icon-exclamation': item.kind === 'suspicious'
              }"
            ></span>
            <span>{{ item.name }}</span>
          </p>
        </div>
      </div>
    </div>
    <button
      class="btn btn-outline-default btn-xs inline-block mtl"
      *ngIf="extraDropped && extraDropped.length > 0"
      (click)="toogleShowMore()"
      nohref=""
    >
      {{ showMoreOpened ? 'Hide some dropped files' : 'Show all dropped files' }}
    </button>
  </div>
</ng-container>
