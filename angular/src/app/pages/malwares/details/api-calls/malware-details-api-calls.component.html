<div class="btn-group mb-2 btn-group-sm" role="group" aria-label="API Calls types">
  <button
    type="button"
    *ngFor="let category of categories; let index = index"
    class="btn {{ category.name === selectedCategory.name ? 'btn-primary' : 'btn-outline-primary' }}"
    (click)="setCategory(index)"
  >
    {{ category.name }}
  </button>
</div>

<!-- Search -->
<div class="main-header-table border-top bg-light p-2 clearfix mx-0 fixed-scroll">
  <div class="float-right">
    <app-select
      [items]="limits"
      [model]="limit"
      [icon]="'icon-format_list_bulleted'"
      [placement]="'bottom-right'"
      id="limitDropdown"
      (onChange)="onChangeLimit($event)"
    >
    </app-select>
  </div>

  <div class="input-group input-group-sm float-right" style="width: 275px; margin-right: 10px">
    <input
      type="text"
      class="form-control"
      placeholder="API Search or PID"
      style="height: 31px"
      [(ngModel)]="searchText"
      (keyup.enter)="search()"
    />
    <div class="input-group-append" (click)="search()">
      <span class="input-group-text"><i class="icon-search"></i></span>
    </div>
  </div>
</div>

<!--TABLE-->
<div class="table-container">
  <app-table [items]="items" [loading]="loading">
    <thead>
      <tr>
        <th>API</th>
        <th class="text-center">Time</th>
        <th class="text-center">Time Delta</th>
        <th class="text-center">PID</th>
        <th class="text-center">Status</th>
        <th class="text-center">Ret</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let call of items">
        <td>
          <b>{{ call.api }}</b
          >(

          <ng-container *ngFor="let callArgs of call.arguments | iterable">
            <span [ngbTooltip]="callArgs.key">{{ callArgs.value }},</span>
          </ng-container>
          )
        </td>
        <td class="text-center align-middle">{{ call.time }}</td>
        <td class="text-center align-middle">{{ call.timeDelta }}</td>
        <td class="text-center align-middle">
          <span [ngbTooltip]="call.process_name">{{ call.pid }}</span>
        </td>
        <td class="text-center align-middle">{{ call.status }}</td>
        <td class="text-center align-middle">{{ call.return_value }}</td>
      </tr>
    </tbody>
  </app-table>
</div>

<div class="float-left mt-3 mb-4">
  <app-pagination-x [page]="page" [count]="count" [pageSize]="limit" (pageChange)="onPageChange($event)">
  </app-pagination-x>
</div>
